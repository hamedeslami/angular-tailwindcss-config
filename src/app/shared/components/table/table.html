<div
  class="overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]"
>
  <div class="max-w-full overflow-x-auto">
    <table class="min-w-full">
      <thead
        class="px-6 py-3.5 border-t border-gray-100 border-y bg-gray-50 dark:border-white/[0.05] dark:bg-gray-900"
      >
        <tr>
          @if(selectable()){
          <th
            class="px-6 py-3 font-medium text-gray-500 sm:px-6 text-theme-xs dark:text-gray-400 text-start"
          >
            <div class="flex items-center gap-3">
              <div>
                <app-checkbox
                  [checked]="selectAll"
                  (checkedChange)="toggleAll()"
                />
              </div>
            </div>
          </th>
          } @for (col of columns(); track col.key){
          <th
            class="px-6 py-3 font-medium text-gray-500 sm:px-6 text-theme-xs dark:text-gray-400 text-start"
          >
            {{ col.label }}
          </th>
          }
        </tr>
      </thead>
      <tbody>
        @for (row of data(); track row.id){
        <tr class="hover:bg-gray-100 dark:hover:bg-gray-800">
          @if(selectable()){
          <td class="px-4 sm:px-6 py-3.5">
            <div class="flex items-center gap-3">
              <div>
                <app-checkbox
                  [checked]="selectedRows.includes(row.id)"
                  (checkedChange)="toggleRow(row.id)"
                />
              </div>
            </div>
          </td>
          } @for (col of columns(); track col.key) {
          <td
            class="px-4 sm:px-6 py-3.5 text-gray-700 text-sm dark:text-gray-400"
          >
            @if (col.templateName && templateMap()[col.templateName]) {
            <ng-container
              [ngTemplateOutlet]="templateMap()[col.templateName].template"
              [ngTemplateOutletContext]="{ $implicit: row, row: row }"
            >
            </ng-container>
            } @else { {{ getValue(row, col.key) }} }
          </td>
          }
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>
